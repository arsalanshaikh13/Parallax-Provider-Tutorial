# this file is dynamically loaded by the setup config if file changes are detected
version: 2.1
# this parameter will be passed from the path-filtering orb.
# it is set to 'true' if the file regexes in config.yml have a match
parameters:
  run-build-and-release:
    type: boolean
    default: false
# Define reusable executor
executors:
  node_executor:
    docker:
      # pullin my image from dockerhub
      - image: arsalanshaikh13/parallaxturtlelibcircle:v1

anchors:
  tag_filter: &tag_filter
    tags:
      only: /^v\d+\.\d+\.\d+-circleci\.\d+$/ # Updated regex to match the corrected tag format
  branch_filter: &branch_filter
    branches:
      only:
        - circleci
        - circleci-docker
